<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ViewBovis</title>
        <!-- CSS -->
        <link rel="stylesheet" href="/static/css/main.css">
    </head>
    <body>
        <!-- ================================== -->
        <!-- Navbar -->
        <!-- ================================== -->
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="https://www.gov.uk/government/organisations/animal-and-plant-health-agency">
                    <!-- Navbar Logo -->
                    <img src="/static/img/APHA_logo_svg.svg" alt="Logo" width="auto" class="d-inline-block align-text-top">
                </a>
                <!-- Navbar Title -->
                <strong id="nav-main-title">ViewBovis [Official Sensitive]</strong>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav">
                        <!-- Home Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-1" data-tab="1">Home</a>
                        </li>
                        <!-- Cattle Movement Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-2 active" data-tab="2">Cattle Movement</a>
                        </li>
                        <!-- SNP Matrix Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-3 " data-tab="3">SNP Distance</a>
                        </li>
                        <!-- Nextstrain Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-4" data-tab="4">Nextstrain</a>
                        </li>
                        <!-- Help and Support Tab -->
                        <li class="nav-item ">
                            <a class="nav-link nav-link-5" data-tab="5">Help and Support</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- ================================== -->
        <!-- Security modal -->
        <!-- ================================== -->
        <div class="modal" id="modal--security">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content" style="background-color: transparent; border: none; width: fit-content;">
                    <div class="modal-body">
                        <div class="govuk-notification-banner govuk-notification-banner--success">
                            <!-- Security Modal Header -->
                            <div class="govuk-notification-banner__header">
                                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                                    Important Information
                                </h2>
                            </div>
                            <!-- Security Modal Content -->
                            <div class="govuk-notification-banner__content">
                                <div class="govuk-warning-text">
                                    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                                    <strong class="govuk-warning-text__text">
                                        <span class="govuk-warning-text__assistive">Warning</span>
                                        Do not share login details between users
                                    </strong>
                                </div>
                                <div>
                                    <p>
                                        ViewBovis displays Official Sensitive data which must only be viewed by those with appropriate access. Failure to comply risks shutdown of the ViewBovis service by APHA IT, due to mishandling of Official Sensitive data.
                                    </p>
                                </div>
                                <div class="govuk-form-group">
                                    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                        <div class="govuk-checkboxes__item" style="margin-left: 33%;">
                                            <input class="govuk-checkboxes__input" id="checkbox--agree" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="checkbox--agree">
                                                I agree to the above
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- -------------- -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ================================== -->
        <!-- Home Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-1 hidden">
            <!-- Government ALPHA Banner -->
            <div class="row alpha-side-margin">
                <div class="govuk-phase-banner ">
                    <div>
                        <strong class="govuk-tag govuk-phase-banner__content__tag">
                            alpha
                        </strong>
                        <span>
                            This is a new service &ndash; your <a class="text-hyperlink" href="#">feedback</a> will help us to improve it.
                        </span>
                    </div>
                </div>
            </div>
            <!-- ViewBovis Logo and Description -->
            <div class="row  align-items-center">
                <!-- Column: logo -->
                <div class="col-1">
                    <img src="/static/img/VBIcon16_APHAGreen.svg" class="home-logo">
                </div>
                <!-- Column: description -->
                <div class="col-8">
                    <div class="home-description-container">
                        <p class="home-description fs-5">
                            <span class="text-green fw-bold">ViewBovis</span> is a web application for exploring whole genome sequencing (WGS) data from <em>Mycobacterium bovis</em>. By linking genetic relatedness with geographical neighbourhood, you will be able to understand the transmission of this disease in both bovine and non-bovine animals.
                        </p>
                    </div>
                </div>
                <!-- Column: data last updated -->
                <div class="col-3">
                    <div class="govuk-notification-banner fs-6 home-banner-container">
                        <div class="govuk-notification-banner__header">
                            <h2 class="govuk-notification-banner__title fs-6" id="govuk-notification-banner-title">
                                Service Last Updated:
                            </h2>
                        </div>
                        <div class="govuk-notification-banner__content home-banner-content">
                            <p>
                                <span class="fw-bold float-start">Metadata</span>
                                <span class="float-end">01/01/2001</span> 
                            </p>
                            <p style="padding-top: 10px">
                                <span class="fw-bold float-start">WGS</span>
                                <span class="float-end">01/01/2001</span> 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Box Quick-Links Content -->
            <div class="row gx-2 ">
                <div class="col">
                    <!-- Cattle movement box -->
                    <div class="home-box">
                        <p class="fw-bold">Cattle Movement</p>
                        <p>
                            View cattle movements on an interactive map which helps with tracing cattle to control and eradicate bovine tuberculosis (bTB).
                        </p>
                        <br>
                        <div class="text-center">
                            <button type="button" id="btn-home-cattleLink" class="btn govuk-button custom-govuk-button-home">
                                Cattle Movement Map
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <!-- Relatedness box -->
                    <div class="home-box">
                        <p class="fw-bold">Relatedness</p>
                        <p>
                            Visualise the relationships between samples with the help of WGS and location data for bovine and non-bovine samples.
                        </p>
                        <p class="text-center">
                            View SNP distance visualisations:<br>
                            <button type="button" id="btn-home-snpMapLink" class="btn govuk-button custom-govuk-button-home">
                                SNP Distance Map
                            </button>
                            <button type="button" id="btn-home-snpMatrixLink" class="btn govuk-button custom-govuk-button-home">
                                SNP Matrix
                            </button>
                        </p>
                        <p class="text-center">
                            View interactive phylogenetic tree:<br>
                            <button type="button" id="btn-home-nextstrainLink" class="btn govuk-button custom-govuk-button-home">
                                Nextstrain
                            </button>
                        </p>
                    </div>
                </div>
                <div class="col">
                    <!-- Help and support box -->
                    <div class="home-box">
                        <p class="fw-bold">Help & Support</p>
                        <p>
                            View a range of resources to familiarise yourself with the content of ViewBovis and access support.
                        </p>
                        <p class="text-center">
                            <button type="button" id="btn-home-helpLink1" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">About The Data & Data Dictionary</button><br>
                            <button type="button" id="btn-home-helpLink2" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">Training Resources</button><br>
                            <button type="button" id="btn-home-helpLink3" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">Missing Samples Report</button><br>
                            <button type="button" id="btn-home-helpLink4" class="btn govuk-button custom-govuk-button-home">Technical Support</button>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Government Footer -->
            <!-- TODO WRITE THIS AS A FUNCTION IN main.js AND RENDER IT HERE AND IN OTHER PLACES -->
            <footer class="row footer">
                <div class="d-flex justify-content-between">
                    <div class="text-start footer-text">
                        A Defra Digital, Data and Technology Service
                    </div>
                    <div>
                        <a class="text-end text-decoration-underline text-hyperlink px-3 footer-help-link">Help and Support</a>
                        <a class="text-end text-decoration-underline text-hyperlink" data-bs-toggle="modal" data-bs-target="#accessibilityModal">Accessibility Statement</a>
                    </div>
                    <!-- Accessibility Statement Modal -->
                    <!-- Purpose: popup information about accessibility on click -->
                    <div class="modal fade" id="accessibilityModal" tabindex="-1" aria-labelledby="accessibilityModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-3 fw-bold" id="accessibilityModalLabel">Accessibility Statement for ViewBovis</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body fs-6">
                                    <p>
                                    This application is maintained by The Animal and Plant Health Agency under XXX. We want as many people as possible to be able to use this application. For example, that means you should be able to:
                                    </p>
                                    </br>
                                    <ul class="list-group">
                                    <li class="list-group-item">Statement 1</li>
                                    <li class="list-group-item">Statement 2</li>
                                    <li class="list-group-item">Statement 3</li>
                                    <li class="list-group-item">Statement 4</li>
                                    <li class="list-group-item">Statement 5</li>
                                    </ul>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn govuk-button" data-bs-dismiss="modal" style="margin-bottom: 0;">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
               </div>
            </footer>

        </div>
        <!-- ================================== -->
        <!-- Cattle Movement Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-2">
            <div class="row">
                <div class="col-3 collapse collapse-horizontal show" id="content2-column1-container">
                    <div id="map-sidebar-container">
                        <div class="govuk-heading-m " id="enter-sample-container">
                            Enter Sample
                        </div>
                        <div>
                            <!-- Element: input sample box for main cattle movement -->
                            <p>
                                <!-- Ear-Tag or AF number -->
                                <input value="AF-21-07021-21" type="text" class="input__sampleID" id="input__sampleID--1" placeholder="e.g. UK705113600438" name="Name" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="input-tooltip" title="AF Number or Ear Tag">
                            </p>
                            <!-- Element: button to show main cattle movement -->
                            <button type="button" class="govuk-button" style="margin-bottom: 10px;" data-module="govuk-button" id="btn__cattleMovement--1">Show Cattle Movement</button>

                            <!-- Plot Related Isolates Spinner -->
                            <div class="text-center" id="cattle-spinner-container">
                                <div class="spinner-border text-secondary hidden" id="cattle-spinner" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                            <!-- Warning message if SNP data cannot be fetched -->
                            <p class="hidden" id="cattle-warning-text">Warning: no data available</p>

                        </div>
                        <br>
                        <!-- Element: dropdown box for inputting a second cattle movement -->
                        <div class="row">
                            <div class="accordion" id="accordionExample">
                                <div class="accordion-item">
                                    <button class="accordion-button collapsed" id="btn__cattle-movement--1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                        <!-- Element: title text and style for dropdown box -->
                                        <span style="font-weight: bold;font-size: 17px; color: black;">Add Another Movement</span>
                                    </button>
                                  <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                    <div class="accordion-body" id="accordion__secondMovement">
                                        <div>
                                            <!-- Element: input sample box for second cattle movement -->
                                            <p>
                                                <input value="AF-61-01504-20" type="text" class="input__sampleID" id="input__sampleID--2" disabled="disabled" placeholder="e.g. UK705113600438" name="Name" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="input-tooltip" title="Eartag or AF Number">
                                            </p>
                                            <!-- Element: button to show second cattle movement -->
                                            <button type="button" class="govuk-button" id="btn__cattleMovement--2" disabled="disabled" data-module="govuk-button" style="margin-bottom: 10px;">Show Second Movement</button>
                                            
                                            <!-- Plot Related Isolates Spinner -->
                                            <div class="text-center" id="cattle-spinner-container2">
                                                <div class="spinner-border text-secondary hidden" id="cattle-spinner2" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                            </div>
                                            <!-- Warning message if SNP data cannot be fetched -->
                                            <p class="hidden" id="cattle-warning-text2">Warning: no data available</p>

                                            <!-- Element: toggle movement lines for second cattle movement -->
                                            <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="cattleMovementLines--2" disabled="disabled" type="checkbox" checked>
                                                    <label class="govuk-label govuk-checkboxes__label" for="cattleMovementLines--2">Toggle Movement</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <p class="fs-5 fw-bold">
                                <span>
                                    LAYERS
                                    <svg id="layers-help-icon" type="button" xmlns="http://www.w3.org/2000/svg" width="16" height="24" fill="var(--apha-blue)" class="bi bi-question-circle-fill" viewBox="0 0 16 24">
                                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                                    </svg>
                                </span>
                            </p>
                            <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">

                                <!-- Risk areas checkbox and accordion -->
                                <div class="govuk-checkboxes__item" style="width: 100%;">
                                    <input class="govuk-checkboxes__input" id="riskAreasBox" type="checkbox">
                                    <label class="govuk-checkboxes__label accordion accordion-item" id="accordion__riskAreas" for="riskAreasBox" style="width: 100%; padding: 0; border: none;">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#body__riskAreas" aria-expanded="false" aria-controls="body__riskAreas" style="padding: 10px;">
                                            <span class="govuk-label" style="margin: 0;">Risk Areas</span>
                                        </button>
                                        <div id="body__riskAreas" class="accordion-collapse collapse" data-bs-parent="#accordion__riskAreas">
                                            <div class="accordion-body" style="padding-top: 0;">
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__HRA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__HRA">HRA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__LRA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__LRA">LRA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__Edge" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__Edge">Edge</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__HTBA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__HTBA">HTBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__ITBA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__ITBA">ITBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__LTBA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__LTBA">LTBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__TBFA" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__TBFA">TBFA</label>
                                                </div>
                                            </div>
                                        </div>
                                    </label>
                                </div>

                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="countyBox" type="checkbox">
                                    <label class="govuk-label govuk-checkboxes__label" for="countyBox">Counties</label>
                                </div>

                                <!-- Home Ranges checkbox and accordion -->
                                <!-- <div class="govuk-checkboxes__item" style="width: 100%;">
                                    <input class="govuk-checkboxes__input" id="homeRangesBox" type="checkbox">
                                    <label class="govuk-checkboxes__label accordion accordion-item" id="accordion__homeRanges" for="homeRangesBox" style="width: 100%; padding: 0; border: none;">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#body__homeRanges" aria-expanded="false" aria-controls="body__homeRanges" style="padding: 10px;">
                                            <span class="govuk-label" style="margin: 0;">Home Ranges</span>
                                        </button>
                                        <div id="body__homeRanges" class="accordion-collapse collapse" data-bs-parent="#accordion__homeRanges">
                                            <div class="accordion-body" style="padding-top: 0;">
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__B6-11" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="countyBox">B6-11</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__B6-85" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="countyBox">B6-85</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__B3-11" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="countyBox">B3-11</label>
                                                </div>
                                            </div>
                                        </div>
                                    </label>
                                </div> -->
                                
                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="cattleMovementLines--1" type="checkbox" disabled="disabled" checked>
                                    <label class="govuk-label govuk-checkboxes__label" for="cattleMovementLines--1">Movement Lines</label>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <!-- <div id="snp-distance-container">
                            <div class="govuk-heading-m" style="background:#d1d1d1;padding:10px;margin-top:30px;">
                                SNP Distance
                            </div>
                            <div>
                                <input type="range" class="form-range" id="slider__snp-threshold" min="0" max="10" step="1" id="snpThreshold" disabled="disabled" value="3">
                                <button class="govuk-button" id="btn__related-isolates" disabled="disabled" aria-disabled="true"  data-module="govuk-button">
                                    Show Related Isolates
                                </button>
                            </div>
                        </div> -->
                    </div>
                </div>
                    
                <div class="col">
                    <div class="custom-popup" id="map"></div>
                </div>
            </div>
        </div>
        <!-- ================================== -->
        <!-- SNP Distance Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-3 hidden">
            <div id="snpdistance-splash-page" class="">
                <!-- Government ALPHA Banner -->
                <div class="row alpha-side-margin">
                    <div class="govuk-phase-banner">
                        <div>
                            <strong class="govuk-tag govuk-phase-banner__content__tag">
                                alpha
                            </strong>
                            <span>
                                This is a new service &ndash; your <a class="text-hyperlink" href="#">feedback</a> will help us to improve it.
                            </span>
                        </div>
                    </div>
                </div>
                <!-- DNA Logo and Description -->    
                <div class="row  align-items-center"  style="margin-left: 100px; margin-right: 100px;">
                    <div class="col-3 text-center">
                        <img src="/static/img/SNPPageDNA_aphaGreen.svg" id="snppage-logo">
                    </div>
                    <div class="col-9">
                        <div class="home-description-container">
                            <p class="home-description fs-5">
                                <span class="text-green fw-bold">SNP Distance</span>: SNP stands for Single Nucleotide Polymorphism. SNPs are single changes in a nucleotide at a specific point in the DNA (e.g. A -> T). SNP Distance is the number of differences between two samples; the fewer SNP differences, the more related the samples are.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- SNP Distance Boxes -->
                <div class="row gx-2">
                    <div class="col">
                        <!-- SNP Map box -->
                        <div class="home-box" style="margin-left: 100px; margin-right: 100px;">
                            <p class="fw-bold">SNP Map</p>
                            <p>
                                This map will allow you to pick a sample of interest and view its related samples using a SNP distance threshold.
                            </p>
                            <br>
                            <div class="text-center">
                                <button type="button" id="btn-view-snpmap" class="btn govuk-button custom-govuk-button-home">
                                    View Map
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <!-- SNP Matrix box -->
                        <div class="home-box" style="margin-left: 100px; margin-right: 100px;">
                            <p class="fw-bold">SNP Matrix</p>
                            <p>
                                Visualise a pairwise SNP matrix containing a target sample and its related samples. Each pairwise comparison displays the SNP difference between two samples.
                            </p>
                            <p class="text-center">
                                <button type="button" id="btn-view-matrix" class="btn govuk-button custom-govuk-button-home">
                                    View Matrix
                                </button>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Government Footer -->
                <!-- TODO WRITE THIS AS A FUNCTION IN main.js AND RENDER IT HERE AND IN OTHER PLACES -->
                <footer class="row footer">
                    <div class="d-flex justify-content-between">
                        <div class="text-start footer-text">
                            A Defra Digital, Data and Technology Service
                        </div>
                        <div>
                            <a class="text-end text-decoration-underline text-hyperlink px-3 footer-help-link">Help and Support</a>
                            <a class="text-end text-decoration-underline text-hyperlink">Accessibility Statement</a>
                        </div>
                        <!-- Accessibility Statement Modal -->
                        <!-- Purpose: popup information about accessibility on click -->
                        <!-- <div class="modal fade" id="accessibilityModal" tabindex="-1" aria-labelledby="accessibilityModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-3 fw-bold" id="accessibilityModalLabel">Accessibility Statement for ViewBovis</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body fs-6">
                                        <p>
                                        This application is maintained by The Animal and Plant Health Agency under XXX. We want as many people as possible to be able to use this application. For example, that means you should be able to:
                                        </p>
                                        </br>
                                        <ul class="list-group">
                                        <li class="list-group-item">Statement 1</li>
                                        <li class="list-group-item">Statement 2</li>
                                        <li class="list-group-item">Statement 3</li>
                                        <li class="list-group-item">Statement 4</li>
                                        <li class="list-group-item">Statement 5</li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn govuk-button" data-bs-dismiss="modal" style="margin-bottom: 0;">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </footer>
            </div>

            <!-- SNP MAP CONTENT (HIDDEN BY DEFAULT) -->
            <div id="snpmap-content" class="row hidden">
                <div class="col-3 collapse collapse-horizontal show" id="snpmap-content-container">
                    <div id="snpmap-sidebar-container" style="margin-top: 10px;">
                        <!-- <br> -->
                        <div class="govuk-heading-m" id="enter-sample-container">
                            Enter Sample
                        </div>
                        <div>
                            <!-- Element: input sample box for main cattle movement -->
                            <p>
                                <!-- Ear-Tag or AF number -->
                                <input value="AF-61-04255-17" type="text" class="input__sampleID" id="input__sampleID_temp--1" placeholder="e.g. UK705113600438" name="Name" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="input-tooltip" title="AF Number or Ear Tag">
                            </p>
                        </div>
                        <div id="snpmap-distance-container">
                            <div class="govuk-heading-m" style="background:#d1d1d1;padding:10px;margin-top:30px;">
                                Select SNP Distance
                            </div>
                            <div>

                                <!-- Custom slider -->
                                <!-- <div class="slider-container"> -->
                                    <p class="display-value-fixed" style="float: left;">0</p>
                                    <p class="display-value-fixed" style="float: right;">10</p>
                                    <input type="range" class="snp-slider" min="0" max="10" step="1" value="1">
                                    <br>
                                    <span style="font-size: 20px;">SNP Distance: <p class="display-value" id="snp-distance-value">1</p></span>
                                <!-- </div> -->


                                <br>
                                <br>
                                <button class="govuk-button" id="btn__plot-related-isolates" aria-disabled="true"  data-module="govuk-button">
                                    Plot Related Isolates
                                </button>
                                <!-- Plot Related Isolates Spinner -->
                                <div class="text-center" id="snpmap-spinner-container">
                                    <div class="spinner-border text-secondary hidden" id="snpmap-spinner" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                                <!-- Warning message if SNP data cannot be fetched -->
                                <p class="hidden" id="snpmap-warning-text">Warning: no data available</p>

                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <p class="fs-5 fw-bold">
                                <span>
                                    LAYERS
                                    <svg id="layers-help-icon2" type="button" xmlns="http://www.w3.org/2000/svg" width="16" height="24" fill="var(--apha-blue)" class="bi bi-question-circle-fill" viewBox="0 0 16 24">
                                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                                    </svg>
                                </span>
                            </p>
                            <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">

                                <!-- Risk areas checkbox and accordion -->
                                <div class="govuk-checkboxes__item" style="width: 100%;">
                                    <input class="govuk-checkboxes__input" id="riskAreasBox2" type="checkbox">
                                    <label class="govuk-checkboxes__label accordion accordion-item" id="accordion__riskAreas2" for="riskAreasBox2"2 style="width: 100%; padding: 0; border: none;">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#body__riskAreas2" aria-expanded="false" aria-controls="body__riskAreas2" style="padding: 10px;">
                                            <span class="govuk-label" style="margin: 0;">Risk Areas</span>
                                        </button>
                                        <div id="body__riskAreas2" class="accordion-collapse collapse" data-bs-parent="#accordion__riskAreas2">
                                            <div class="accordion-body" style="padding-top: 0;">
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__HRA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__HRA2">HRA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__LRA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__LRA2">LRA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__Edge2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__Edge2">Edge</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__HTBA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__HTBA2">HTBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__ITBA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__ITBA2">ITBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__LTBA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__LTBA2">LTBA</label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="checkbox__TBFA2" type="checkbox">
                                                    <label class="govuk-label govuk-checkboxes__label" for="checkbox__TBFA2">TBFA</label>
                                                </div>
                                            </div>
                                        </div>
                                    </label>
                                </div>

                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="countyBox2" type="checkbox">
                                    <label class="govuk-label govuk-checkboxes__label" for="countyBox2">Counties</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SNP Map     -->
                <div class="col">
                    <div class="custom-popup" id="map2"></div>
                </div>

                <!-- SNP Map Table -->
                <div class="col-4 collapse collapse-horizontal" id="table-sidebar-container">
                    <div id="table-sidebar-title"></div>
                    <div id="table-content-container"></div>
                </div>
            </div>

            <!-- SNP MATRIX CONTENT (HIDDEN BY DEFAULT) -->
            <!-- TODO -->
            <div id="snpmatrix-content" class="row hidden">
                <div id="snpmatrix-content-container">
                    <h1 style="margin-top: 10px;">Development in Progress</h1>
                </div>
            </div>

        </div>

        <!-- ================================== -->
        <!-- Nextstrain Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-4 hidden" id="nextstrain-container-id">
            <div id="nextstrain-splash-page">
                <!-- Government ALPHA Banner -->
                <div class="row alpha-side-margin">
                    <div class="govuk-phase-banner">
                        <div>
                            <strong class="govuk-tag govuk-phase-banner__content__tag">
                                alpha
                            </strong>
                            <span>
                                This is a new service &ndash; your <a class="text-hyperlink" href="#">feedback</a> will help us to improve it.
                            </span>
                        </div>
                    </div>
                </div>
                <!-- Nextstrain Logo and Description -->    
                <div class="row  align-items-center">
                    <div class="col-3 text-center">
                        <img src="/static/img/nextstrain-logo.svg" id="nextstrain-logo">
                    </div>
                    <div class="col-9">
                        <div class="home-description-container">
                            <p class="home-description fs-5">
                                <span class="text-green fw-bold">Nextstrain</span> is a tool used to visualise whole genome sequencing (WGS) data from <em>Mycobacterium bovis</em>. You can view and explore both a phylogenetic tree and a map to understand genetic relatedness and locate samples geographically. This visualisation enables you to view data on both bovine and non-bovine samples.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Box Content -->
                <div class="row gx-2 ">
                    <div class="col-9">
                        <!-- Search box -->
                        <div class="nextstrain-box">
                            <div class="row">
                                <!-- Search description -->
                                <div class="col-4 nextstrain-search-container">
                                    <p class="fw-bold fs-4">Search & Select Data</p>
                                    <p class="fs-6">
                                        Use the search box to find your sample or clade of interest. Click a link in the table to view the phylogenetic tree that that sample or clade in Nextstrain.
                                    </p>
                                    <p class="fs-6">
                                        A clade is a group of genetically similar isolates. Each clade includes a common ancestor and all its descendants.
                                    </p>
                                </div>
                                <div class="col-8 nextstrain-select-data">
                                    <div class="row" style="margin-top: 5px; margin-right:0; background-color: white;">
                                        <!-- Input text -->
                                        <div class="col-6 ">
                                            <div class="govuk-form-group" style="margin-bottom: 10px;">
                                                <label class="govuk-label fs-6">
                                                    Search by AF, CPH or Ear tag
                                                </label>
                                                <div class="govuk-input__wrapper">
                                                    <input value="UK262728200982" class="govuk-input fs-5" id="nextstrain-input" type="text" spellcheck="false" placeholder="e.g. AF-10-125-125">
                                                    <div class="govuk-input__suffix" aria-hidden="true" id="nextstrain-search-button" style="cursor: pointer;">
                                                        <a>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                                            </svg>
                                                        </a>
                                                    </div>
                                                    <!-- <a id="link_toNextstrain" class="text-hyperlink"><h3 class="px-5">B6-13</h3></a> -->
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Popular clades shortcut -->
                                        <div class="col-6 ">
                                            <span>Commonly Viewed Clades</span>
                                            <p>
                                                <span class="fw-bold fs-4 px-2"><a class="text-hyperlink" id="clade-B613">B6-13</a></span>
                                                <span class="fw-bold fs-4 px-2"><a class="text-hyperlink" id="clade-B671">B6-71</a></span>
                                                <!-- <span class="fw-bold fs-4 px-2"><a class="text-hyperlink" id="clade-B6XX">B6-XX</a></span> -->
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row" id="nextstrain-search-table-container" style="margin-right: 0; margin-top: 5px;">
                                        <!-- Search table spinner -->
                                        <div class="text-center hidden" id="nextstrain-search-table-spinner">
                                            <br>
                                            <div class="spinner-border text-secondary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Table for sample or clade selection -->
                                        <div id="nextstrain-search-table"></div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="nextstrain-box">
                            <!-- Training resources box -->
                            <p class="fw-bold fs-4">Training resources</p>
                            <p class="fs-6">
                                The resources below have been developed to help you understand how to use Nextstrain and how to interpret the phylogeny.<br>
                            </p>
                            <p class="fs-6">
                                <a class="text-hyperlink">How to use Nextstrain guide</a><br>
                                <a class="text-hyperlink">Video tutorials</a><br>
                                <a class="text-hyperlink">Selt-assessment exercise</a>
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Government Footer -->
                <!-- TODO WRITE THIS AS A FUNCTION IN main.js AND RENDER IT HERE AND IN OTHER PLACES -->
                <footer class="row footer">
                    <div class="d-flex justify-content-between">
                        <div class="text-start footer-text">
                            A Defra Digital, Data and Technology Service
                        </div>
                        <div>
                            <a class="text-end text-decoration-underline text-hyperlink px-3 footer-help-link">Help and Support</a>
                            <a class="text-end text-decoration-underline text-hyperlink">Accessibility Statement</a>
                        </div>
                        <!-- Accessibility Statement Modal -->
                        <!-- Purpose: popup information about accessibility on click -->
                        <!-- <div class="modal fade" id="accessibilityModal" tabindex="-1" aria-labelledby="accessibilityModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-3 fw-bold" id="accessibilityModalLabel">Accessibility Statement for ViewBovis</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body fs-6">
                                        <p>
                                        This application is maintained by The Animal and Plant Health Agency under XXX. We want as many people as possible to be able to use this application. For example, that means you should be able to:
                                        </p>
                                        </br>
                                        <ul class="list-group">
                                        <li class="list-group-item">Statement 1</li>
                                        <li class="list-group-item">Statement 2</li>
                                        <li class="list-group-item">Statement 3</li>
                                        <li class="list-group-item">Statement 4</li>
                                        <li class="list-group-item">Statement 5</li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn govuk-button" data-bs-dismiss="modal" style="margin-bottom: 0;">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </footer>
            </div>
        </div>

        <!-- ================================== -->
        <!-- Help and Support Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-5 hidden">
            <div class="">
                <h1>Development in Progress</h1>
            </div>
            
            <!-- <div class="row">
                <p id="home-view-bovis-description">
                    <font color="#00703c">Help and Support</font>
                </p>
            </div>
            <div class="row">
                <div class="col-6 home-box" style="margin-right: 10px;">
                    <strong>Support Documents</strong>
                    <p>
                        <ul style="line-height: 200%;">
                            <li><a id="ln_glossary"><font color="#0000EE">Glossary of Terms</font></a></li>
                            <li><a><font color="#0000EE">How To Use This App</font></a></li>
                            <li><a><font color="#0000EE">Link To SharePoint Home Page</font></a></li>                   
                        </ul>
                    </p>
                    <p style="margin-top: 60px;">
                        <img src="/static/img/FeedbackForm_Hira_v2.svg" width="40px">
                        Click <a id="ln_glossary"><font color="#0000EE">here</font></a> to submit feedback for this app
                    </p>
                </div>
                <div class="col-6 home-box" style="margin-left: 10px;">
                    <strong>Phylogenetic Tree Interpretation Video</strong>
                    <div>
                        <iframe width="100%" height="315" style="margin-top: 15px;" src="https://www.youtube.com/embed/QasuKryesOQ" title="Module 1.3 - How to read a phylogenetic tree" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
            <div class="row">
                <p id="home-help-declaration">
                    Please report any errors or issues to the <a><font color="#0000EE">ViewBovis User MS Teams Channel</font></a>.
                </p>
            </div> -->
        </div>

    <!-- JavaScript -->
    <script src="/static/libraries/leaflet-1.9.3/leaflet.js"></script>
    <script src="/static/libraries/bootstrap-5.2.3-dist/bootstrap.bundle.min.js"></script>
    <script src="/static/libraries/govuk-frontend-4.4.1/govuk-frontend-4.4.1.min.js"></script>
    <script src="/static/libraries/tabulator/tabulator.min.js"></script>
    <script src="/static/js/nextstrain.js"></script>
    <script src="/static/js/leaflet.shpfile.js"></script>
    <script src="/static/js/shp.js"></script>
    <script src="/static/js/leaflet.geometryutil.js"></script>
    <script src="/static/js/leaflet-arrowheads.js"></script>
    <script src="/static/js/L.LinearMeasurement.js"></script>
    <script src="/static/js/leaflet_awesome_number_markers.js"></script>
    <script src="/static/js/snpdistance.js"></script>
    <script src="/static/js/snpmatrix.js"></script>
    <script src="/static/js/cattleMovement.js"></script>
    <script src="/static/js/main.js"></script>
    </body>
</html>