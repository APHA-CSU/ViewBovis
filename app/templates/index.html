<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ViewBovis</title>
        <!-- CSS -->
        <link rel="stylesheet" href="/static/css/main.css">
    </head>
    <body>
        <!-- ================================== -->
        <!-- Navbar -->
        <!-- ================================== -->
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="https://www.gov.uk/government/organisations/animal-and-plant-health-agency">
                    <!-- Navbar Logo -->
                    <img src="/static/img/APHA_logo_svg.svg" alt="Logo" width="auto" class="d-inline-block align-text-top">
                </a>
                <!-- Navbar Title -->
                <strong id="nav-main-title">ViewBovis [Official Sensitive]</strong>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav">
                        <!-- Home Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-1 active" data-tab="1">Home</a>
                        </li>
                        <!-- Cattle Movement Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-2" data-tab="2">Cattle Movement</a>
                        </li>
                        <!-- SNP Matrix Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-3" data-tab="3">SNP Distance</a>
                        </li>
                        <!-- Nextstrain Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-link-4" data-tab="4">Nextstrain</a>
                        </li>
                        <!-- Help and Support Tab -->
                        <li class="nav-item ">
                            <a class="nav-link nav-link-5" data-tab="5">Help and Support</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- ================================== -->
        <!-- Security modal -->
        <!-- ================================== -->
        <div class="modal" id="modal--security">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content" style="background-color: transparent; border: none; width: fit-content;">
                    <div class="modal-body">
                        <div class="govuk-notification-banner govuk-notification-banner--success">
                            <!-- Security Modal Header -->
                            <div class="govuk-notification-banner__header">
                                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                                    Important Information
                                </h2>
                            </div>
                            <!-- Security Modal Content -->
                            <div class="govuk-notification-banner__content">
                                <div class="govuk-warning-text">
                                    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                                    <strong class="govuk-warning-text__text">
                                        <span class="govuk-warning-text__assistive">Warning</span>
                                        Do not share login details between users
                                    </strong>
                                </div>
                                <div>
                                    <p>
                                        ViewBovis displays Official Sensitive data which must only be viewed by those with appropriate access. Failure to comply risks shutdown of the ViewBovis service by APHA IT, due to mishandling of Official Sensitive data.
                                    </p>
                                </div>
                                <div class="govuk-form-group">
                                    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                        <div class="govuk-checkboxes__item" style="margin-left: 33%;">
                                            <input class="govuk-checkboxes__input" id="checkbox--agree" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="checkbox--agree">
                                                I agree to the above
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- -------------- -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ================================== -->
        <!-- Home Content -->
        <!-- ================================== -->
        <div class="container content content-1">
            <!-- Government ALPHA Banner -->
            <div class="row">
                <div class="govuk-phase-banner navbar-margin">
                    <div>
                        <strong class="govuk-tag govuk-phase-banner__content__tag">
                            alpha
                        </strong>
                        <span>
                            This is a new service &ndash; your <a class="text-hyperlink" href="#">feedback</a> will help us to improve it.
                        </span>
                    </div>
                </div>
            </div>
            <!-- ViewBovis Logo and Description -->
            <div class="row navbar-margin">
                <!-- Column: logo -->
                <div class="col-1">
                    <img src="/static/img/VBIcon16_APHAGreen.svg" class="home-logo">
                </div>
                <!-- Column: description -->
                <div class="col-8">
                    <div class="home-description-container">
                        <p class="home-description fs-5">
                            <span class="text-green fw-bold">ViewBovis</span> is a web application for exploring whole genome sequencing (WGS) data from <em>Mycobacterium bovis</em>. By linking genetic relatedness with geographical neighbourhood, you will be able to understand the transmission of this disease in both bovine and non-bovine animals.
                        </p>
                    </div>
                </div>
                <!-- Column: data last updated -->
                <div class="col-3">
                    <div class="govuk-notification-banner fs-6 home-banner-container">
                        <div class="govuk-notification-banner__header">
                            <h2 class="govuk-notification-banner__title fs-6" id="govuk-notification-banner-title">
                                Service Last Updated:
                            </h2>
                        </div>
                        <div class="govuk-notification-banner__content home-banner-content">
                            <p>
                                <span class="fw-bold float-start">Metadata</span>
                                <span class="float-end">01/01/2001</span> 
                            </p>
                            <p style="padding-top: 10px">
                                <span class="fw-bold float-start">WGS</span>
                                <span class="float-end">01/01/2001</span> 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Box Quick-Links Content -->
            <div class="row gx-2 navbar-margin">
                <div class="col">
                    <!-- Cattle movement box -->
                    <div class="home-box">
                        <p class="fw-bold">Cattle Movement</p>
                        <p>
                            View cattle movements on an interactive map which helps with tracing cattle to control and eradicate bovine tuberculosis (bTB).
                        </p>
                        <br>
                        <div class="text-center">
                            <button type="button" id="btn-home-cattleLink" class="btn govuk-button custom-govuk-button-home">
                                Cattle Movement Map
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <!-- Relatedness box -->
                    <div class="home-box">
                        <p class="fw-bold">Relatedness</p>
                        <p>
                            Visualise the relationships between samples with the help of WGS and location data for bovine and non-bovine samples.
                        </p>
                        <p class="text-center">
                            View SNP distance visualisations:<br>
                            <button type="button" id="btn-home-snpMapLink" class="btn govuk-button custom-govuk-button-home">
                                SNP Distance Map
                            </button>
                            <button type="button" id="btn-home-snpMatrixLink" class="btn govuk-button custom-govuk-button-home">
                                SNP Matrix
                            </button>
                        </p>
                        <p class="text-center">
                            View interactive phylogenetic tree:<br>
                            <button type="button" id="btn-home-nextstrainLink" class="btn govuk-button custom-govuk-button-home">
                                Nextstrain
                            </button>
                        </p>
                    </div>
                </div>
                <div class="col">
                    <!-- Help and support box -->
                    <div class="home-box">
                        <p class="fw-bold">Help & Support</p>
                        <p>
                            View a range of resources to familiarise yourself with the content of ViewBovis and access support.
                        </p>
                        <p class="text-center">
                            <button type="button" id="btn-home-helpLink1" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">About The Data & Data Dictionary</button><br>
                            <button type="button" id="btn-home-helpLink2" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">Training Resources</button><br>
                            <button type="button" id="btn-home-helpLink3" class="btn govuk-button custom-govuk-button-home" style="margin-bottom: 10px;">Missing Samples Report</button><br>
                            <button type="button" id="btn-home-helpLink4" class="btn govuk-button custom-govuk-button-home">Technical Support</button>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Government Footer -->
            <footer class="row footer">
                <div class="d-flex justify-content-between">
                    <div class="text-start footer-text">
                        A Defra Digital, Data and Technology Service
                    </div>
                    <!-- Accessibility Statement Modal -->
                    <!-- Purpose: popup information about accessibility on click -->
                    <div data-bs-toggle="modal" data-bs-target="#accessibilityModal">
                        <a class="text-end text-decoration-underline text-hyperlink" href="#">Accessibility Statement</a>
                    </div>
                    <div class="modal fade" id="accessibilityModal" tabindex="-1" aria-labelledby="accessibilityModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-3 fw-bold" id="accessibilityModalLabel">Accessibility Statement for ViewBovis</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body fs-6">
                                <p>
                                This application is maintained by The Animal and Plant Health Agency under XXX. We want as many people as possible to be able to use this application. For example, that means you should be able to:
                                </p>
                                </br>
                                <ul class="list-group">
                                <li class="list-group-item">Statement 1</li>
                                <li class="list-group-item">Statement 2</li>
                                <li class="list-group-item">Statement 3</li>
                                <li class="list-group-item">Statement 4</li>
                                <li class="list-group-item">Statement 5</li>
                                </ul>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn govuk-button" data-bs-dismiss="modal" style="margin-bottom: 0;">Close</button>
                            </div>
                            </div>
                        </div>
                    </div>
               </div>
            </footer>
        </div>
        <!-- ================================== -->
        <!-- Cattle Movement Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-2 hidden">
            <div class="row">
                <div class="col-lg-2">
                    <div class="govuk-heading-m" style="background:#d1d1d1;padding:10px;margin-top:10px;margin-bottom: 1px;">
                        Enter Sample
                    </div>
                    <div>
                        <!-- Element: input sample box for main cattle movement -->
                        <p>
                            <!-- Ear-Tag or AF number -->
                            <input type="text" class="input__sampleID" id="input__sampleID--1" placeholder="e.g. UK705113600438" name="Name" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="input-tooltip" title="Eartag or AF Number">
                        </p>
                        <!-- Element: button to show main cattle movement -->
                        <button type="button" class="govuk-button" style="margin-bottom: 10px;" data-module="govuk-button" id="btn_show-movements">Show Cattle Movement</button>
                    </div>
                    <br>
                    <!-- Element: toggle movement lines for main cattle movement -->
                    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                        <div class="govuk-checkboxes__item">
                            <input class="govuk-checkboxes__input" id="toggle__movement-lines--1" disabled="disabled" type="checkbox" checked>
                            <label class="govuk-label govuk-checkboxes__label" for="toggle__movement-lines--1">Toggle Movement Lines</label>
                        </div>
                    </div>
                    <br> 
                    <!-- Element: dropdown box for inputting a second cattle movement -->
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <button class="accordion-button collapsed" id="btn__cattle-movement--1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                <!-- Element: title text and style for dropdown box -->
                                <span style="font-weight: bold;font-size: 17px; color: black;">Add Another Movement</span>
                            </button>
                          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <div>
                                    <!-- Element: input sample box for second cattle movement -->
                                    <p>
                                        <input type="text" class="input__sampleID" id="input__sampleID--2" disabled="disabled" placeholder="e.g. UK705113600438" name="Name" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="input-tooltip" title="Eartag or AF Number">
                                    </p>
                                    <!-- Element: button to show second cattle movement -->
                                    <button type="button" class="govuk-button" id="btn__cattle-movement--2" disabled="disabled" style="margin-bottom: 10px;" data-module="govuk-button">Show Second Movement</button>
                                    <br>
                                    <!-- Element: toggle movement lines for second cattle movement -->
                                    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="toggle__movement-lines--2" disabled="disabled" type="checkbox" checked>
                                            <label class="govuk-label govuk-checkboxes__label" for="toggle__movement-lines--2">Toggle Movement</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    <br>
                    <div>
                        <p class="fs-5 fw-bold">
                            Layers
                        </p>
                        <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                            <div class="govuk-checkboxes__item">
                                <input class="govuk-checkboxes__input" id="countyBox" type="checkbox">
                                <label class="govuk-label govuk-checkboxes__label" for="countyBox">Counties</label>
                            </div>
                            <div class="govuk-checkboxes__item">
                                <input class="govuk-checkboxes__input" id="riskAreasBox" type="checkbox">
                                <label class="govuk-label govuk-checkboxes__label" for="riskAreasBox">Risk Areas</label>
                            </div>
                            <div class="govuk-checkboxes__item">
                                <input class="govuk-checkboxes__input" id="homeRangesBox" type="checkbox">
                                <label class="govuk-label govuk-checkboxes__label" for="homeRangesBox">Home Ranges</label>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="govuk-heading-m" style="background:#d1d1d1;padding:10px;margin-top:30px;">
                        SNP Distance
                    </div>
                    <div>
                        <!-- Element: SNP range slider -->
                        <input type="range" class="form-range" id="slider__snp-threshold" min="0" max="10" step="1" id="snpThreshold" disabled="disabled" value="3">
                        <button class="govuk-button" id="btn__related-isolates" disabled="disabled" aria-disabled="true"  data-module="govuk-button">
                            Show Related Isolates
                        </button>
                    </div>
                </div>
                <div class="col-lg-10">
                    <div class="custom-popup" id="map" style="margin-top:10px;"></div>
                </div>
            </div>
        </div>
        <!-- ================================== -->
        <!-- SNP Matrix Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-3 hidden" style="margin-top: 10px;">
            <!-- SNP Matrix Content -->
            <div style="margin-top: 10px">
                <iframe src="https://tomjenkins.shinyapps.io/SNP_Matrix_User_Testing/" frameborder="0" height="600px" width="100%"></iframe>
            </div>
        </div>

        <!-- ================================== -->
        <!-- Nextstrain Content -->
        <!-- ================================== -->
        <div class="container-fluid content content-4 hidden" style="margin-top: 5px;">
            <div class="row" id="filter-clade">
                <div>
                    <p id="home-view-bovis-description">
                        <font color="#00703c">Nextstrain</font>
                    </p>
                </div>
                <div>
                    <p>
                        <!-- Element: hyperlink to Zika example -->
                        <a id="link_toZika"><font color="#0000EE">Clade Zika</font></a>
                    </p>
                </div>
            </div>
            <!-- <iframe src="https://nextstrain.org/" frameborder="0" height="850px" width="100%"></iframe> -->
            <!-- <iframe src="http://127.0.0.1:1234" frameborder="0" height="850px" width="100%"></iframe> -->
        </div>

        <!-- ================================== -->
        <!-- Help and Support Content -->
        <!-- ================================== -->
        <div class="container content content-5 hidden">
            <div class="row">
                <p id="home-view-bovis-description">
                    <font color="#00703c">Help and Support</font>
                </p>
            </div>
            <div class="row">
                <div class="col-6 home-box" style="margin-right: 10px;">
                    <strong>Support Documents</strong>
                    <p>
                        <ul style="line-height: 200%;">
                            <li><a id="ln_glossary"><font color="#0000EE">Glossary of Terms</font></a></li>
                            <li><a><font color="#0000EE">How To Use This App</font></a></li>
                            <li><a><font color="#0000EE">Link To SharePoint Home Page</font></a></li>                   
                        </ul>
                    </p>
                    <p style="margin-top: 60px;">
                        <img src="/static/img/FeedbackForm_Hira_v2.svg" width="40px">
                        Click <a id="ln_glossary"><font color="#0000EE">here</font></a> to submit feedback for this app
                    </p>
                </div>
                <div class="col-6 home-box" style="margin-left: 10px;">
                    <strong>Phylogenetic Tree Interpretation Video</strong>
                    <div>
                        <iframe width="100%" height="315" style="margin-top: 15px;" src="https://www.youtube.com/embed/QasuKryesOQ" title="Module 1.3 - How to read a phylogenetic tree" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
            <div class="row">
                <p id="home-help-declaration">
                    Please report any errors or issues to the <a><font color="#0000EE">ViewBovis User MS Teams Channel</font></a>.
                </p>
            </div>
            <div class="footer fs-6 fw-bold text-muted" style="bottom: -7.35rem;">
                <div class="float-start">A Defra Digital, Data and Technology Service</div>
                <!-- // Accessibility Statement Modal -->
                <!-- // Purpose: popup information about accessibility on click -->
                <div class="float-end text-decoration-underline" data-bs-toggle="modal" data-bs-target="#accessibilityModal2" style="cursor: pointer;">Accessibility Statement</div>
                <!-- Bootstrap modal -->
                <div class="modal fade" id="accessibilityModal2" tabindex="-1" aria-labelledby="accessibilityModalLabel2" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h1 class="modal-title fs-3 fw-bold" id="accessibilityModalLabel2">Accessibility Statement for View Bovis</h1>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body fs-6">
                          <p>
                            This application is maintained by The Animal and Plant Health Agency under XXX. We want as many people as possible to be able to use this application. For example, that means you should be able to:
                          </p>
                          </br>
                          <ul class="list-group">
                            <li class="list-group-item">Statement 1</li>
                            <li class="list-group-item">Statement 2</li>
                            <li class="list-group-item">Statement 3</li>
                            <li class="list-group-item">Statement 4</li>
                            <li class="list-group-item">Statement 5</li>
                          </ul>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn govuk-button" data-bs-dismiss="modal" style="margin-bottom: 0;">Close</button>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- JavaScript -->
    <script src="/static/libraries/leaflet-1.9.3/leaflet.js"></script>
    <script src="/static/libraries/bootstrap-5.2.3-dist/bootstrap.bundle.min.js"></script>
    <script src="/static/libraries/govuk-frontend-4.4.1/govuk-frontend-4.4.1.min.js"></script>
    <script src="/static/js/leaflet.shpfile.js"></script>
    <script src="/static/js/shp.js"></script>
    <script src="/static/js/leaflet.geometryutil.js"></script>
    <script src="/static/js/leaflet-arrowheads.js"></script>
    <script src="/static/js/L.LinearMeasurement.js"></script>
    <script src="/static/js/cattleMovement.js"></script>
    <script src="/static/js/main.js"></script>
    </body>
</html>