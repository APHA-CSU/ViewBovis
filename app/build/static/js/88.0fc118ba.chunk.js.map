{"version":3,"file":"static/js/88.0fc118ba.chunk.js","mappings":"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","sources":["imgs/movementCluster.svg","components/MapControls/Basemaps.jsx","components/MapControls/HideSidebar.jsx","components/Utilities/L.LinearMeasurement.js","components/MapControls/MeasurementTool.jsx","components/MapControls/ResetView.jsx","imgs/SNPsoi.svg","imgs/SNPrelated.svg","components/SNPDistance/SNPLayers.jsx","components/SNPDistance/SNPMapComp.jsx"],"sourcesContent":["var _circle, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgMovementCluster(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 103,\n    height: 126,\n    viewBox: \"0 0 103 126\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 52,\n    cy: 63,\n    r: 38.5,\n    fill: \"#00A33B\",\n    stroke: \"#00A33B\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44.1222 75V71.0114L53.4418 62.3821C54.2344 61.6151 54.8991 60.9247 55.4361 60.3111C55.9815 59.6974 56.3949 59.0966 56.6761 58.5085C56.9574 57.9119 57.098 57.2685 57.098 56.5781C57.098 55.8111 56.9233 55.1506 56.5739 54.5966C56.2244 54.0341 55.7472 53.6037 55.142 53.3054C54.5369 52.9986 53.8509 52.8452 53.0838 52.8452C52.2827 52.8452 51.5838 53.0071 50.9872 53.331C50.3906 53.6548 49.9304 54.1193 49.6065 54.7244C49.2827 55.3295 49.1207 56.0497 49.1207 56.8849H43.8665C43.8665 55.1719 44.2543 53.6847 45.0298 52.4233C45.8054 51.1619 46.892 50.1861 48.2898 49.4957C49.6875 48.8054 51.2983 48.4602 53.1222 48.4602C54.9972 48.4602 56.6293 48.7926 58.0185 49.4574C59.4162 50.1136 60.5028 51.0256 61.2784 52.1932C62.054 53.3608 62.4418 54.6989 62.4418 56.2074C62.4418 57.196 62.2457 58.1719 61.8537 59.1349C61.4702 60.098 60.7841 61.1676 59.7955 62.3438C58.8068 63.5114 57.4134 64.9134 55.6151 66.5497L51.7926 70.2955V70.4744H62.7869V75H44.1222Z\",\n    fill: \"white\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMovementCluster);\nexport default __webpack_public_path__ + \"static/media/movementCluster.a3550c9f2beb7fe7086c099ed4535084.svg\";\nexport { ForwardRef as ReactComponent };","import L from \"leaflet\";\nimport { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\n// https://leaflet-extras.github.io/leaflet-providers/preview/\n//Basemaps\n\nconst BaseMaps = () => {\n  const map = useMap();\n  const osm = L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n    maxZoom: 19,\n    attribution:\n      '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n  });\n\n  const Esri_WorldGrayCanvas = L.tileLayer(\n    \"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}\",\n    {\n      attribution: \"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ\",\n      maxZoom: 16,\n    }\n  );\n\n  const Esri_WorldImagery = L.tileLayer(\n    \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n    {\n      attribution:\n        \"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\",\n    }\n  );\n  const baseMaps = {\n    \"Open Street Map\": osm,\n    \"Esri Grey Canvas\": Esri_WorldGrayCanvas,\n    \"Esri World Imagery\": Esri_WorldImagery,\n  };\n\n  useEffect(() => {\n    const layerControl = new L.control.layers(baseMaps, null, {\n      collapsed: true,\n    });\n    layerControl.addTo(map);\n    const divContainer = layerControl.getContainer();\n    const sectionTab = divContainer.querySelectorAll(\"div\")[0];\n    sectionTab.insertAdjacentHTML(\n      \"beforebegin\",\n      \"<strong style='font-size: 15px; margin-bottom: 15px;'>Basemaps</strong>\"\n    );\n    const inputTab = divContainer.querySelectorAll(\"input\")[0];\n    inputTab.setAttribute(\"checked\", \"true\");\n    osm.addTo(map)\n\n    return () => {\n      layerControl.remove();\n    };\n  }, []);\n};\nexport default BaseMaps;\n","import L from \"leaflet\";\nimport { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\n\nconst HideSidebar = ({ setOpenSideBar, openSideBar }) => {\n  const map = useMap();\n  useEffect(() => {\n    const hideSidebarButton = new L.Control({\n      position: \"topleft\",\n    });\n\n    hideSidebarButton.onAdd = function () {\n      const div = L.DomUtil.create(\"div\", \"leaflet-control leaflet-bar\");\n      div.setAttribute(\"id\", \"btn__map-fullscreen\");\n      div.onclick = function () {\n        setOpenSideBar(!openSideBar);\n        map.invalidateSize();\n      };\n      if (openSideBar)\n        div.insertAdjacentHTML(\n          \"afterbegin\",\n          `<a id=\"toggle-sidebar\" title=\"Hide sidebar\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-box-arrow-left\" viewBox=\"0 0 16 16\">\n            <path fill-rule=\"evenodd\" d=\"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z\"/>\n            <path fill-rule=\"evenodd\" d=\"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z\"\n            />\n          </svg>\n        </a>\n              `\n        );\n      else\n        div.insertAdjacentHTML(\n          \"afterbegin\",\n          `<a id=\"toggle-sidebar\" title=\"Show sidebar\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-box-arrow-right\" viewBox=\"0 0 16 16\">\n          <path fill-rule=\"evenodd\" d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"></path>\n          <path fill-rule=\"evenodd\" d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"></path>\n        </svg>\n        </a>\n              `\n        );\n      return div;\n    };\n    hideSidebarButton.addTo(map);\n    return () => {\n      hideSidebarButton.remove();\n    };\n  }, [openSideBar]);\n};\nexport default HideSidebar;\n","import L from \"leaflet\";\r\nimport \"./L.LinearMeasurement.css\";\r\nconst LinearMeasurement = L.Control.extend({\r\n  options: {\r\n    position: \"topleft\",\r\n    unitSystem: \"imperial\", // imperial | metric\r\n    color: \"#4D90FE\",\r\n    contrastingColor: \"#fff\",\r\n    show_last_node: false,\r\n    show_azimut: false,\r\n  },\r\n\r\n  clickSpeed: 200,\r\n\r\n  onAdd: function (map) {\r\n    var container = L.DomUtil.create(\"div\", \"leaflet-control leaflet-bar\"),\r\n      link = L.DomUtil.create(\"a\", \"icon-ruler\", container),\r\n      map_container = map.getContainer(),\r\n      me = this;\r\n\r\n    link.href = \"#\";\r\n    link.title = \"Toggle measurement tool\";\r\n\r\n    L.DomEvent.on(link, \"click\", L.DomEvent.stop).on(\r\n      link,\r\n      \"click\",\r\n      function () {\r\n        if (L.DomUtil.hasClass(link, \"icon-active\")) {\r\n          me.resetRuler(!!me.mainLayer);\r\n          L.DomUtil.removeClass(link, \"icon-active\");\r\n          L.DomUtil.removeClass(map_container, \"ruler-map\");\r\n        } else {\r\n          me.initRuler();\r\n          L.DomUtil.addClass(link, \"icon-active\");\r\n          L.DomUtil.addClass(map_container, \"ruler-map\");\r\n        }\r\n      }\r\n    );\r\n\r\n    function contrastingColor(color) {\r\n      return luma(color) >= 165 ? \"000\" : \"fff\";\r\n    }\r\n\r\n    function luma(color) {\r\n      var rgb = typeof color === \"string\" ? hexToRGBArray(color) : color;\r\n      return 0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]; // SMPTE C, Rec. 709 weightings\r\n    }\r\n\r\n    function hexToRGBArray(color) {\r\n      if (color.length === 3)\r\n        color =\r\n          color.charAt(0) +\r\n          color.charAt(0) +\r\n          color.charAt(1) +\r\n          color.charAt(1) +\r\n          color.charAt(2) +\r\n          color.charAt(2);\r\n      else if (color.length !== 6) throw new Error(\"Invalid hex color: \" + color);\r\n      var rgb = [];\r\n      for (var i = 0; i <= 2; i++)\r\n        rgb[i] = parseInt(color.substr(i * 2, 2), 16);\r\n      return rgb;\r\n    }\r\n\r\n    if (this.options.color && this.options.color.indexOf(\"#\") === -1) {\r\n      this.options.color = \"#\" + this.options.color;\r\n    } else if (!this.options.color) {\r\n      this.options.color = \"#4D90FE\";\r\n    }\r\n\r\n    var originalColor = this.options.color.replace(\"#\", \"\");\r\n\r\n    this.options.contrastingColor = \"#\" + contrastingColor(originalColor);\r\n\r\n    return container;\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    this.resetRuler(!!this.mainLayer);\r\n  },\r\n\r\n  initRuler: function () {\r\n    var me = this,\r\n      map = this._map;\r\n\r\n    this.mainLayer = L.featureGroup();\r\n    this.mainLayer.addTo(this._map);\r\n\r\n    map.touchZoom.disable();\r\n    map.doubleClickZoom.disable();\r\n    map.boxZoom.disable();\r\n    map.keyboard.disable();\r\n\r\n    if (map.tap) {\r\n      map.tap.disable();\r\n    }\r\n\r\n    this.dblClickEventFn = function (e) {\r\n      L.DomEvent.stop(e);\r\n    };\r\n\r\n    this.clickEventFn = function (e) {\r\n      if (me.clickHandle) {\r\n        clearTimeout(me.clickHandle);\r\n        me.clickHandle = 0;\r\n\r\n        if (me.options.show_last_node) {\r\n          me.preClick(e);\r\n          me.getMouseClickHandler(e);\r\n        }\r\n\r\n        me.getDblClickHandler(e);\r\n      } else {\r\n        me.preClick(e);\r\n\r\n        me.clickHandle = setTimeout(function () {\r\n          me.getMouseClickHandler(e);\r\n          me.clickHandle = 0;\r\n        }, me.clickSpeed);\r\n      }\r\n    };\r\n\r\n    this.moveEventFn = function (e) {\r\n      if (!me.clickHandle) {\r\n        me.getMouseMoveHandler(e);\r\n      }\r\n    };\r\n\r\n    map.on(\"click\", this.clickEventFn, this);\r\n    map.on(\"mousemove\", this.moveEventFn, this);\r\n\r\n    this.resetRuler();\r\n  },\r\n\r\n  initLayer: function () {\r\n    this.layer = L.featureGroup();\r\n    this.layer.addTo(this.mainLayer);\r\n    this.layer.on(\"selected\", this.layerSelected);\r\n    this.layer.on(\"click\", this.clickEventFn, this);\r\n  },\r\n\r\n  resetRuler: function (resetLayer) {\r\n    var map = this._map;\r\n\r\n    if (resetLayer) {\r\n      map.off(\"click\", this.clickEventFn, this);\r\n      map.off(\"mousemove\", this.moveEventFn, this);\r\n\r\n      if (this.mainLayer) {\r\n        this._map.removeLayer(this.mainLayer);\r\n      }\r\n\r\n      this.mainLayer = null;\r\n\r\n      this._map.touchZoom.enable();\r\n      this._map.boxZoom.enable();\r\n      this._map.keyboard.enable();\r\n\r\n      if (this._map.tap) {\r\n        this._map.tap.enable();\r\n      }\r\n    }\r\n\r\n    this.layer = null;\r\n    this.prevLatlng = null;\r\n    this.poly = null;\r\n    this.multi = null;\r\n    this.latlngs = null;\r\n    this.latlngsList = [];\r\n    this.sum = 0;\r\n    this.distance = 0;\r\n    this.separation = 1;\r\n    this.last = 0;\r\n    this.fixedLast = 0;\r\n    this.totalIcon = null;\r\n    this.total = null;\r\n    this.lastCircle = null;\r\n\r\n    /* Leaflet return distances in meters */\r\n    this.UNIT_CONV = 1000;\r\n    this.SUB_UNIT_CONV = 1000;\r\n    this.UNIT = \"km\";\r\n    this.SUB_UNIT = \"m\";\r\n\r\n    if (this.options.unitSystem === \"imperial\") {\r\n      this.UNIT_CONV = 1609.344;\r\n      this.SUB_UNIT_CONV = 5280;\r\n      this.UNIT = \"mi\";\r\n      this.SUB_UNIT = \"ft\";\r\n    }\r\n\r\n    this.measure = {\r\n      scalar: 0,\r\n      unit: this.SUB_UNIT,\r\n    };\r\n  },\r\n\r\n  cleanUpMarkers: function (fixed) {\r\n    var layer = this.layer;\r\n\r\n    if (layer) {\r\n      layer.eachLayer(function (l) {\r\n        if (l.options && l.options.type === \"tmp\") {\r\n          if (fixed) {\r\n            l.options.type = \"fixed\";\r\n          } else {\r\n            layer.removeLayer(l);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  cleanUpFixed: function () {\r\n    var layer = this.layer;\r\n\r\n    if (layer) {\r\n      layer.eachLayer(function (l) {\r\n        if (l.options && l.options.type === \"fixed\") {\r\n          layer.removeLayer(l);\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  convertDots: function () {\r\n    var me = this,\r\n      layer = this.layer;\r\n\r\n    if (layer) {\r\n      layer.eachLayer(function (l) {\r\n        if (l.options && l.options.type === \"dot\") {\r\n          var m = l.options.marker,\r\n            i = m ? m.options.icon.options : null,\r\n            il = i ? i.html : \"\";\r\n\r\n          if (il && il.indexOf(me.measure.unit) === -1) {\r\n            var str = l.options.label,\r\n              s = str.split(\" \"),\r\n              e = parseFloat(s[0]),\r\n              u = s[1],\r\n              label = \"\";\r\n\r\n            if (l.options.label.indexOf(me.measure.unit) !== -1) {\r\n              label = l.options.label;\r\n            } else if (u === me.UNIT) {\r\n              label = (e * me.SUB_UNIT_CONV).toFixed(2) + \" \" + me.SUB_UNIT;\r\n            } else if (u === me.SUB_UNIT) {\r\n              label = (e / me.SUB_UNIT_CONV).toFixed(2) + \" \" + me.UNIT;\r\n            }\r\n\r\n            var cicon = L.divIcon({\r\n              className: \"total-popup-label\",\r\n              html: label,\r\n            });\r\n\r\n            m.setIcon(cicon);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  displayMarkers: function (latlngs, multi, sum) {\r\n    var x,\r\n      y,\r\n      label,\r\n      ratio,\r\n      p,\r\n      latlng = latlngs[latlngs.length - 1],\r\n      prevLatlng = latlngs[0],\r\n      original = prevLatlng.distanceTo(latlng) / this.UNIT_CONV,\r\n      dis = original;\r\n\r\n    var p2 = this._map.latLngToContainerPoint(latlng),\r\n      p1 = this._map.latLngToContainerPoint(prevLatlng),\r\n      unit = 1;\r\n\r\n    if (this.measure.unit === this.SUB_UNIT) {\r\n      unit = this.SUB_UNIT_CONV;\r\n      dis = dis * unit;\r\n    }\r\n\r\n    var t = sum * unit + dis,\r\n      qu = sum * unit;\r\n\r\n    for (var q = Math.floor(qu); q < t; q++) {\r\n      ratio = (t - q) / dis;\r\n\r\n      if (q % this.separation || q < qu) {\r\n        continue;\r\n      }\r\n\r\n      x = p2.x - ratio * (p2.x - p1.x);\r\n      y = p2.y - ratio * (p2.y - p1.y);\r\n\r\n      p = L.point(x, y);\r\n\r\n      /* render a circle spaced by separation */\r\n\r\n      latlng = this._map.containerPointToLatLng(p);\r\n\r\n      label = q + \" \" + this.measure.unit;\r\n\r\n      this.renderCircle(latlng, 0, this.layer, multi ? \"fixed\" : \"tmp\", label);\r\n\r\n      this.last = t;\r\n    }\r\n\r\n    return original;\r\n  },\r\n\r\n  renderCircle: function (latLng, radius, layer, type, label) {\r\n    var color = this.options.color,\r\n      lineColor = this.options.color,\r\n      azimut = \"\",\r\n      nodeCls = \"\";\r\n\r\n    type = type || \"circle\";\r\n\r\n    var options = {\r\n      color: lineColor,\r\n      fillOpacity: 1,\r\n      opacity: 1,\r\n      fill: true,\r\n      type: type,\r\n    };\r\n\r\n    var a = this.prevLatlng && this._map\r\n        ? this._map.latLngToContainerPoint(this.prevLatlng)\r\n        : null,\r\n      b = this._map ? this._map.latLngToContainerPoint(latLng) : null;\r\n\r\n    if (type === \"dot\") {\r\n      nodeCls = \"node-label\";\r\n\r\n      if (a && this.options.show_azimut) {\r\n        azimut = ' <span class=\"azimut\"> ' + this.lastAzimut + \"&deg;</span>\";\r\n      }\r\n    }\r\n\r\n    var p_latLng = this._map.containerPointToLatLng(b);\r\n\r\n    if (label) {\r\n      var cicon = L.divIcon({\r\n        className: \"total-popup-label \" + nodeCls,\r\n        html:\r\n          '<span style=\"color: ' + color + ';\">' + label + azimut + \"</span>\",\r\n      });\r\n\r\n      options.icon = cicon;\r\n      options.marker = L.marker(p_latLng, { icon: cicon, type: type }).addTo(\r\n        layer\r\n      );\r\n      options.label = label;\r\n    }\r\n\r\n    var circle = L.circleMarker(latLng, options);\r\n\r\n    circle.setRadius(3);\r\n    circle.addTo(layer);\r\n\r\n    return circle;\r\n  },\r\n\r\n  getAzimut: function (a, b) {\r\n    var deg = 0;\r\n\r\n    if (a && b) {\r\n      deg = parseInt((Math.atan2(b.y - a.y, b.x - a.x) * 180) / Math.PI);\r\n\r\n      if (deg > 0) {\r\n        deg += 90;\r\n      } else if (deg < 0) {\r\n        deg = Math.abs(deg);\r\n        if (deg <= 90) {\r\n          deg = 90 - deg;\r\n        } else {\r\n          deg = 360 - (deg - 90);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.lastAzimut = deg;\r\n\r\n    return deg;\r\n  },\r\n\r\n  renderPolyline: function (latLngs, dashArray, layer) {\r\n    var poly = L.polyline(latLngs, {\r\n      color: this.options.color,\r\n      weight: 2,\r\n      opacity: 1,\r\n      dashArray: dashArray,\r\n    });\r\n\r\n    poly.addTo(layer);\r\n\r\n    return poly;\r\n  },\r\n\r\n  renderMultiPolyline: function (latLngs, dashArray, layer) {\r\n    /* Leaflet version 1+ delegated the concept of multi-poly-line to the polyline */\r\n    var multi;\r\n\r\n    if (L.version.startsWith(\"0\")) {\r\n      multi = L.multiPolyline(latLngs, {\r\n        color: this.options.color,\r\n        weight: 2,\r\n        opacity: 1,\r\n        dashArray: dashArray,\r\n      });\r\n    } else {\r\n      multi = L.polyline(latLngs, {\r\n        color: this.options.color,\r\n        weight: 2,\r\n        opacity: 1,\r\n        dashArray: dashArray,\r\n      });\r\n    }\r\n\r\n    multi.addTo(layer);\r\n\r\n    return multi;\r\n  },\r\n\r\n  formatDistance: function (distance, precision) {\r\n    var s = L.Util.formatNum(\r\n        distance < 1 ? distance * parseFloat(this.SUB_UNIT_CONV) : distance,\r\n        precision\r\n      ),\r\n      u = distance < 1 ? this.SUB_UNIT : this.UNIT;\r\n\r\n    return { scalar: s, unit: u };\r\n  },\r\n\r\n  hasClass: function (target, classes) {\r\n    var fn = L.DomUtil.hasClass;\r\n\r\n    for (var i in classes) {\r\n      if (fn(target, classes[i])) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  },\r\n\r\n  preClick: function (e) {\r\n    var me = this,\r\n      target = e.originalEvent.target;\r\n\r\n    if (this.hasClass(target, [\"leaflet-popup\", \"total-popup-content\"])) {\r\n      return;\r\n    }\r\n\r\n    if (!me.layer) {\r\n      me.initLayer();\r\n    }\r\n\r\n    me.cleanUpMarkers(true);\r\n\r\n    me.fixedLast = me.last;\r\n    me.prevLatlng = e.latlng;\r\n    me.sum = 0;\r\n  },\r\n\r\n  getMouseClickHandler: function (e) {\r\n    var me = this;\r\n    me.fixedLast = me.last;\r\n    me.sum = 0;\r\n\r\n    if (me.poly) {\r\n      me.latlngsList.push(me.latlngs);\r\n\r\n      if (!me.multi) {\r\n        me.multi = me.renderMultiPolyline(\r\n          me.latlngsList,\r\n          \"5 5\",\r\n          me.layer,\r\n          \"dot\"\r\n        );\r\n      } else {\r\n        me.multi.setLatLngs(me.latlngsList);\r\n      }\r\n    }\r\n\r\n    var o, dis;\r\n    for (var l in me.latlngsList) {\r\n      o = me.latlngsList[l];\r\n      me.sum += o[0].distanceTo(o[1]) / me.UNIT_CONV;\r\n    }\r\n\r\n    if (me.measure.unit === this.SUB_UNIT) {\r\n      dis = me.sum * me.SUB_UNIT_CONV;\r\n    } else {\r\n      dis = me.sum;\r\n    }\r\n\r\n    var s = dis.toFixed(2);\r\n\r\n    me.renderCircle(\r\n      e.latlng,\r\n      0,\r\n      me.layer,\r\n      \"dot\",\r\n      parseInt(s) ? s + \" \" + me.measure.unit : \"\"\r\n    );\r\n    me.prevLatlng = e.latlng;\r\n  },\r\n\r\n  getMouseMoveHandler: function (e) {\r\n    var azimut = \"\";\r\n\r\n    if (this.prevLatlng) {\r\n      var latLng = e.latlng;\r\n\r\n      this.latlngs = [this.prevLatlng, e.latlng];\r\n\r\n      if (!this.poly) {\r\n        this.poly = this.renderPolyline(this.latlngs, \"5 5\", this.layer);\r\n      } else {\r\n        this.poly.setLatLngs(this.latlngs);\r\n      }\r\n\r\n      /* Distance in miles/meters */\r\n      this.distance =\r\n        parseFloat(this.prevLatlng.distanceTo(e.latlng)) / this.UNIT_CONV;\r\n\r\n      /* scalar and unit */\r\n      this.measure = this.formatDistance(this.distance + this.sum, 2);\r\n\r\n      var a = this.prevLatlng\r\n          ? this._map.latLngToContainerPoint(this.prevLatlng)\r\n          : null,\r\n        b = this._map.latLngToContainerPoint(latLng);\r\n\r\n      if (a && this.options.show_azimut) {\r\n        var style = \"color: \" + this.options.contrastingColor + \";\";\r\n        azimut =\r\n          ' <span class=\"azimut azimut-final\" style=\"' +\r\n          style +\r\n          '\"> &nbsp; ' +\r\n          this.getAzimut(a, b) +\r\n          \"&deg;</span>\";\r\n      }\r\n\r\n      /* tooltip with total distance */\r\n      var label = this.measure.scalar + \" \" + this.measure.unit,\r\n        html =\r\n          '<span class=\"total-popup-content\" style=\"background-color:' +\r\n          this.options.color +\r\n          \"; color: \" +\r\n          this.options.contrastingColor +\r\n          '\">' +\r\n          label +\r\n          azimut +\r\n          \"</span>\";\r\n\r\n      if (!this.total) {\r\n        this.totalIcon = L.divIcon({ className: \"total-popup\", html: html });\r\n\r\n        this.total = L.marker(e.latlng, {\r\n          icon: this.totalIcon,\r\n          clickable: true,\r\n        }).addTo(this.layer);\r\n      } else {\r\n        this.totalIcon = L.divIcon({ className: \"total-popup\", html: html });\r\n        this.total.setLatLng(e.latlng);\r\n        this.total.setIcon(this.totalIcon);\r\n      }\r\n\r\n      /* Rules for separation using only distance criteria */\r\n      var ds = this.measure.scalar,\r\n        old_separation = this.separation,\r\n        digits = parseInt(ds).toString().length,\r\n        num = Math.pow(10, digits),\r\n        real = ds > num / 2 ? num / 10 : num / 20,\r\n        dimension = 0;\r\n\r\n      this.separation = real;\r\n\r\n      /* If there is a change in the segment length we want to re-space\r\n                   the dots on the multi line */\r\n      if (old_separation !== this.separation && this.fixedLast) {\r\n        this.cleanUpMarkers();\r\n        this.cleanUpFixed();\r\n\r\n        var multi_latlngs = this.multi.getLatLngs();\r\n\r\n        for (var s in multi_latlngs) {\r\n          dimension += this.displayMarkers.apply(this, [\r\n            multi_latlngs[s],\r\n            true,\r\n            dimension,\r\n          ]);\r\n        }\r\n\r\n        this.displayMarkers.apply(this, [\r\n          this.poly.getLatLngs(),\r\n          false,\r\n          this.sum,\r\n        ]);\r\n\r\n        /* Review that the dots are in correct units */\r\n        this.convertDots();\r\n      } else {\r\n        this.cleanUpMarkers();\r\n        this.displayMarkers.apply(this, [\r\n          this.poly.getLatLngs(),\r\n          false,\r\n          this.sum,\r\n        ]);\r\n      }\r\n    }\r\n  },\r\n\r\n  getDblClickHandler: function (e) {\r\n    var azimut = \"\",\r\n      me = this;\r\n\r\n    if (!this.total) {\r\n      return;\r\n    }\r\n\r\n    this.layer.off(\"click\");\r\n\r\n    L.DomEvent.stop(e);\r\n\r\n    if (this.options.show_azimut) {\r\n      var style = \"color: \" + this.options.contrastingColor + \";\";\r\n      azimut =\r\n        ' <span class=\"azimut azimut-final\" style=\"' +\r\n        style +\r\n        '\"> &nbsp; ' +\r\n        this.lastAzimut +\r\n        \"&deg;</span>\";\r\n    }\r\n\r\n    var workspace = this.layer,\r\n      label = this.measure.scalar + \" \" + this.measure.unit + \" \",\r\n      total_scalar =\r\n        this.measure.unit === this.SUB_UNIT\r\n          ? this.measure.scalar / this.UNIT_CONV\r\n          : this.measure.scalar,\r\n      total_latlng = this.total.getLatLng(),\r\n      total_label = this.total,\r\n      html = [\r\n        '<div class=\"total-popup-content\" style=\"background-color:' +\r\n          this.options.color +\r\n          \"; color: \" +\r\n          this.options.contrastingColor +\r\n          '\">' +\r\n          label +\r\n          azimut,\r\n        '  <svg class=\"close\" viewbox=\"0 0 45 35\">',\r\n        '   <path style=\"stroke: ' +\r\n          this.options.contrastingColor +\r\n          '\" class=\"close\" d=\"M 10,10 L 30,30 M 30,10 L 10,30\" />',\r\n        \"  </svg>\",\r\n        \"</div>\",\r\n      ].join(\"\");\r\n\r\n    this.totalIcon = L.divIcon({ className: \"total-popup\", html: html });\r\n    this.total.setIcon(this.totalIcon);\r\n\r\n    var data = {\r\n      total: this.measure,\r\n      total_label: total_label,\r\n      unit: this.UNIT_CONV,\r\n      sub_unit: this.SUB_UNIT_CONV,\r\n    };\r\n\r\n    var fireSelected = function (e) {\r\n      if (L.DomUtil.hasClass(e.originalEvent.target, \"close\")) {\r\n        me.mainLayer.removeLayer(workspace);\r\n      } else {\r\n        workspace.fireEvent(\"selected\", data);\r\n      }\r\n    };\r\n\r\n    workspace.on(\"click\", fireSelected);\r\n    workspace.fireEvent(\"selected\", data);\r\n\r\n    this.resetRuler(false);\r\n  },\r\n\r\n  purgeLayers: function (layers) {\r\n    for (var i in layers) {\r\n      if (layers[i]) {\r\n        this.layer.removeLayer(layers[i]);\r\n      }\r\n    }\r\n  },\r\n\r\n  layerSelected: function (e) {},\r\n});\r\n\r\nexport default LinearMeasurement;\r\n","import { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\nimport LinearMeasurement from \"../Utilities/L.LinearMeasurement\";\n\nconst MeasurementTool = () => {\n  const map = useMap();\n\n  useEffect(() => {\n    const measurementTool = new LinearMeasurement({\n      unitSystem: \"imperial\",\n      position: \"topleft\",\n      color: \"#FF0080\",\n      type: \"line\",\n  })\n    measurementTool.addTo(map);\n    return () => {\n      measurementTool.remove();\n    };\n  });\n};\nexport default MeasurementTool;\n","import L from \"leaflet\";\nimport { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\n\nconst ResetView = () => {\n  const map = useMap();\n  const defaultCoords = [52.56555275762325, -1.4667093894864072];\n  const defaultZoom = 6;\n  useEffect(() => {\n    const resetView = new L.Control({\n      position: \"topleft\",\n    });\n    const scaleControl = new L.control.scale({imperial: false})\n    resetView.onAdd = function() {\n        const divContainer = L.DomUtil.create(\"div\", \"leaflet-control leaflet-bar\");\n        divContainer.onclick = () => {\n            map.setView(defaultCoords,defaultZoom)\n        }\n\n        divContainer.insertAdjacentHTML(\"afterbegin\", `\n        <a title=\"Reset view\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\n            <path d=\"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z\"/>\n            <path fill-rule=\"evenodd\" d=\"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z\"/>\n            </svg>\n        </a>\n        `);\n        return divContainer;\n    }\n    resetView.addTo(map);\n    scaleControl.addTo(map)\n    return () => {\n        resetView.remove();\n        scaleControl.remove();\n    };\n  }, []);\n};\nexport default ResetView;\n","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSnPsoi(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 103,\n    height: 126,\n    viewBox: \"0 0 103 126\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M83.6875 63C83.6875 91.556 56.013 110.037 51.9863 112.575C51.6771 112.77 51.3229 112.77 51.0137 112.575C46.987 110.037 19.3125 91.556 19.3125 63C19.3125 39.375 34.9084 23.625 51.5 23.625C68.6667 23.625 83.6875 39.375 83.6875 63Z\",\n    fill: \"#C95300\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M68.1667 63C68.1667 74.4208 60.6152 83.5 51.5 83.5C42.3847 83.5 34.8333 74.4208 34.8333 63C34.8333 51.5792 42.3847 42.5 51.5 42.5C60.6152 42.5 68.1667 51.5792 68.1667 63Z\",\n    fill: \"white\",\n    stroke: \"white\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSnPsoi);\nexport default __webpack_public_path__ + \"static/media/SNPsoi.9c9a73af37ef4ab3fbcb1a7e586ef58c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSnPrelated(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"#575757\",\n    className: \"bi bi-geo-alt-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSnPrelated);\nexport default __webpack_public_path__ + \"static/media/SNPrelated.3d6ef995b712704d8be98d53fc8be63f.svg\";\nexport { ForwardRef as ReactComponent };","import L from 'leaflet';\nimport SNPsoi from '../../imgs/SNPsoi.svg'\nimport SNPrelated from '../../imgs/SNPrelated.svg'\n\nconst markerNumberIcon = (number) => {\n  return `\n  <div style=\"font-size: medium;\n  color: white;\n  font-weight: 500;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  align-content: center;\n  justify-content: center;\n  align-items: center;\n\"><img src=\"${SNPrelated}\" alt=\"${number}\" width=\"30\" height=\"30\"/>\n<a style=\"position: absolute;\">${number}</a><div/>`\n}\n\nconst relatedMarker = (props, SOI) => { \nif(props.submission === SOI) {\n  return new L.Icon({\n    className: `number-marker marker-SOI marker-${props.submission}`,\n    iconUrl: SNPsoi,\n    iconSize: [40, 40],\n    iconAnchor: [20, 35],\n  })} else {\n    return new L.DivIcon({\n      className : `number-marker-related marker-${props.submission}`,\n      html : markerNumberIcon(props.snp_distance),\n      styles : {border: \"none\",\n      background: \"transparent\", display : \"flex\"},\n      iconSize: [40, 40],\n      iconAnchor: [20, 28],\n    })\n  }\n}\nexport { relatedMarker };","import { MapContainer, Marker, TileLayer, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { relatedMarker } from \"./SNPLayers\";\nimport MarkerClusterGroup from \"react-leaflet-cluster\";\nimport React, { useEffect, useRef, Suspense } from \"react\";\nimport L from \"leaflet\";\nimport HideSidebar from \"../MapControls/HideSidebar\";\nimport MeasurementTool from \"../MapControls/MeasurementTool\";\nimport ResetView from \"../MapControls/ResetView\";\nimport SNPsoi from \"../../imgs/SNPsoi.svg\";\nimport SNPrelated from \"../../imgs/SNPrelated.svg\";\nimport movementClusterImg from \"../../imgs/movementCluster.svg\";\nimport BaseMaps from \"../MapControls/Basemaps\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toggleSNPTable } from \"./../../features/counter/counterSlice.js\";\n\nconst SNPMapComp = React.memo(\n  ({\n    checkedLayers,\n    useCountyandHotspotLayers,\n    setOpenSideBar,\n    openSideBar,\n    SNPMapDataset,\n    RiskLayers,\n    CountyLayers,\n    HotspotLayers,\n  }) => {\n    const openTable = useSelector((state) => state.counter.openSNPTable);\n    const mapRef = useRef(null);\n    const createCustomClusterIcon = (cluster) => {\n      return new L.DivIcon({\n        html: `<span class=\"cluster-icon\">${cluster.getChildCount()}</span>`,\n        className: \"cluster-icon\",\n        iconSize: [30, 30],\n      });\n    };\n\n    const popupContentSNPMap = function (data, AFnumber) {\n      return `\n      <div id=\"popup_header_${data.animal_id}\" class=\"fs-5 fw-bold\">${\n        data.animal_id\n      }</div><br>\n        <div id=\"popTabContent\">     \n          <table class=\"table table-striped\">\n            <tbody>\n              <tr>\n                <td><strong>Submission:</strong></td>\n                <td>${AFnumber}</td> \n              </tr>\n              <tr>\n                <td><strong>Date of Birth:</strong></td>\n                <td>${data.dob}</td>\n              </tr>\n              <tr>\n                <td><strong>Slaughter Date:</strong></td>\n                <td>${data.slaughter_date}</td>\n              </tr>\n              <tr>\n                <td><strong>Miles:</strong></td>\n                <td>${parseFloat(data.distance).toFixed(2)}</td>\n              </tr>\n              <tr>\n                <td><strong>SNP Distance:</strong></td>\n                <td>${data.snp_distance}</td>\n              </tr>\n              <tr>\n                <td><strong>Precise Location:</strong></td>\n                <td>${data.cph}</td> \n              </tr>\n              <tr>\n                <td><strong>OS Map Reference:</strong></td>\n                <td>${data.os_map_ref}</td>\n              </tr>\n              <tr>\n                <td><strong>Species:</strong></td>\n                <td>${data.species}</td> \n              </tr>\n              <tr>\n                <td><strong>Animal Type:</strong></td>\n                <td>${data.animal_type}</td> \n              </tr>\n              <tr>\n                <td><strong>Sex:</strong></td>\n                <td>${\n                  data.sex === `F`\n                    ? `Female`\n                    : data.sex === `M`\n                    ? `Male`\n                    : `Unknown`\n                }\n                </td>\n              </tr> \n              <tr>\n                <td><strong>Disclosing Test Type:</strong></td>\n                <td>${data.disclosing_test}</td>\n              </tr> \n              <tr>\n                <td><strong>Import Country:</strong></td>\n                <td>${\n                  data.import_country == null\n                    ? `British`\n                    : `${data.import_country}`\n                }</td>\n              </tr> \n            </tbody>\n          </table>\n        </div>\n      </div>        \n      `;\n    };\n\n    const popupOptions = {\n      maxWidth: 400, // in pixels\n      className: \"relatedPopupOptions\", // must match a css class\n      autoClose: false,\n      closeOnClick: false,\n      maxHeight: 300,\n    };\n\n    return (\n      <div ref={mapRef}>\n        <MapContainer\n          center={[53.3781, -1]}\n          zoom={6}\n          zoomAnimation={true}\n          zoomAnimationThreshold={20}\n        >\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">\n          OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <BaseMaps />\n          <ResetView />\n          <HideSidebar\n            setOpenSideBar={setOpenSideBar}\n            openSideBar={openSideBar}\n            type={\"snp_map\"}\n          />\n          <MeasurementTool />\n          <Suspense fallback={<></>}>\n            <HotspotLayers\n              isChecked={useCountyandHotspotLayers[\"hotspotLayers\"]}\n            />\n            <CountyLayers\n              isChecked={useCountyandHotspotLayers[\"countyLayers\"]}\n            />\n            {Object.keys(checkedLayers).length > 0 && (\n              <RiskLayers checkedLayers={checkedLayers} />\n            )}\n          </Suspense>\n          <LegendTableAction\n            SNPMapDataset={SNPMapDataset}\n            openTable={openTable}\n            mapRef={mapRef}\n          />\n          {!openTable && (\n            <MarkerClusterGroup\n              chunkedLoading\n              iconCreateFunction={createCustomClusterIcon}\n            >\n              {Object.keys(SNPMapDataset)\n                .filter((elem) => {\n                  return (\n                    elem !== \"SOI\" &&\n                    elem !== SNPMapDataset[\"SOI\"] &&\n                    SNPMapDataset[elem]?.lat &&\n                    SNPMapDataset[elem]?.lon\n                  );\n                })\n                .map((elem, index) => {\n                  return (\n                    <Marker\n                      ref={(ref) => {\n                        ref?.bindPopup(\n                          popupContentSNPMap({ ...SNPMapDataset[elem] }, elem),\n                          popupOptions\n                        );\n                      }}\n                      icon={relatedMarker(\n                        { ...SNPMapDataset[elem], submission: elem },\n                        SNPMapDataset[\"SOI\"]\n                      )}\n                      key={\"snp_related_marker_\" + index}\n                      position={[\n                        SNPMapDataset[elem].lat,\n                        SNPMapDataset[elem].lon,\n                      ]}\n                    ></Marker>\n                  );\n                })}\n            </MarkerClusterGroup>\n          )}\n          {openTable && (\n            <>\n              {Object.keys(SNPMapDataset)\n                .filter((elem) => {\n                  return (\n                    elem !== \"SOI\" &&\n                    elem !== SNPMapDataset[\"SOI\"] &&\n                    SNPMapDataset[elem]?.lat &&\n                    SNPMapDataset[elem]?.lon\n                  );\n                })\n                .map((elem, index) => {\n                  return (\n                    <Marker\n                      ref={(ref) => {\n                        ref?.bindPopup(\n                          popupContentSNPMap({ ...SNPMapDataset[elem] }, elem),\n                          popupOptions\n                        );\n                      }}\n                      icon={relatedMarker(\n                        { ...SNPMapDataset[elem], submission: elem },\n                        SNPMapDataset[\"SOI\"]\n                      )}\n                      key={\"snp_related_marker_\" + index}\n                      position={[\n                        SNPMapDataset[elem].lat,\n                        SNPMapDataset[elem].lon,\n                      ]}\n                    ></Marker>\n                  );\n                })}\n            </>\n          )}\n          {Object.keys(SNPMapDataset)\n            .filter((elem) => {\n              return elem === SNPMapDataset[\"SOI\"];\n            })\n            .map((elem, index) => {\n              return (\n                <Marker\n                  ref={(ref) => {\n                    ref?.bindPopup(\n                      popupContentSNPMap({ ...SNPMapDataset[elem] }, elem),\n                      popupOptions\n                    );\n                  }}\n                  icon={relatedMarker(\n                    { ...SNPMapDataset[elem], submission: elem },\n                    SNPMapDataset[\"SOI\"]\n                  )}\n                  key={\"snp_related_marker_\" + index}\n                  position={[SNPMapDataset[elem].lat, SNPMapDataset[elem].lon]}\n                ></Marker>\n              );\n            })}\n        </MapContainer>\n      </div>\n    );\n  }\n);\n\nconst LegendTableAction = ({ SNPMapDataset, openTable, mapRef }) => {\n  const dispatch = useDispatch();\n  const map = useMap();\n  const resizeObserver = new ResizeObserver(() => {\n    if (map && mapRef.current) map.invalidateSize();\n  });\n  const btnShowTable = new L.Control({\n    position: \"topright\",\n  });\n  btnShowTable.onAdd = function (map) {\n    const divContainer = L.DomUtil.create(\"div\", \"leaflet-control leaflet-bar\");\n    divContainer.setAttribute(\"id\", \"btn__show-table\");\n    divContainer.onclick = function () {\n      dispatch(toggleSNPTable());\n    };\n    if (!openTable)\n      divContainer.insertAdjacentHTML(\n        \"afterbegin\",\n        `<a class=\"snp-table-toggle\">Show Table</a>`\n      );\n    else\n      divContainer.insertAdjacentHTML(\n        \"afterbegin\",\n        `<a class=\"snp-table-toggle\">Hide Table</a>`\n      );\n    return divContainer;\n  };\n  const markerLegend = new L.control({ position: \"topright\" });\n  markerLegend.onAdd = function (map) {\n    let div = L.DomUtil.create(\"div\", \"leaflet-control leaflet-bar\");\n    div.style.width = \"150px\";\n    div.style.background = \"white\";\n\n    // Build legend with HTML\n    div.insertAdjacentHTML(\n      \"afterbegin\",\n      `\n    <div style=\"padding-top:5px;\">\n        <span class=\"fs-6\" style=\"padding-left:6px;\"><strong>Legend</strong></span>\n        <span style=\"display: flex; align-items: center; padding-bottom: 5px;\">\n          <img src=${SNPsoi} class=\"legend-marker-img\">\n          <span class=\"legend-marker-title\">Sample</span>\n        </span>\n        <span style=\"display: flex; align-items: center; padding-bottom: 5px;padding-left: 8px;\">\n        <img src=${SNPrelated} width=\"25\" height=\"25\">\n          <span class=\"legend-marker-title\">SNP Relatedness</span>\n        </span>\n        <span style=\"display: flex; align-items: center;\">\n        <img src=${movementClusterImg} class=\"legend-marker-img\">\n        <span class=\"legend-marker-title\">Geographic Group</span>\n        </span>\n      </div>\n    `\n    );\n\n    return div;\n  };\n  useEffect(() => {\n    const latLon = Object.keys(SNPMapDataset)\n      .filter((elem) => {\n        return SNPMapDataset[elem]?.lat && SNPMapDataset[elem]?.lon;\n      })\n      .map((elem) => [SNPMapDataset[elem].lat, SNPMapDataset[elem].lon]);\n    if (latLon?.length > 0) {\n      markerLegend.addTo(map);\n      map.fitBounds(L.latLngBounds(latLon).pad(0.1));\n    }\n    return () => {\n      markerLegend.remove();\n    };\n  }, [SNPMapDataset]);\n\n  useEffect(() => {\n    btnShowTable.addTo(map);\n    return () => {\n      btnShowTable.remove();\n    };\n  }, [openTable]);\n\n  useEffect(() => {\n    if (mapRef.current) resizeObserver.observe(mapRef.current);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n};\n\nexport default SNPMapComp;\n"],"names":["BaseMaps","map","useMap","osm","L","maxZoom","attribution","Esri_WorldGrayCanvas","Esri_WorldImagery","baseMaps","useEffect","layerControl","layers","collapsed","addTo","divContainer","getContainer","querySelectorAll","insertAdjacentHTML","setAttribute","remove","_ref","setOpenSideBar","openSideBar","hideSidebarButton","position","onAdd","div","create","onclick","invalidateSize","extend","options","unitSystem","color","contrastingColor","show_last_node","show_azimut","clickSpeed","container","link","map_container","me","this","href","title","on","stop","hasClass","resetRuler","mainLayer","removeClass","initRuler","addClass","indexOf","originalColor","replace","rgb","length","charAt","Error","i","parseInt","substr","hexToRGBArray","luma","onRemove","_map","touchZoom","disable","doubleClickZoom","boxZoom","keyboard","tap","dblClickEventFn","e","clickEventFn","clickHandle","clearTimeout","preClick","getMouseClickHandler","getDblClickHandler","setTimeout","moveEventFn","getMouseMoveHandler","initLayer","layer","layerSelected","resetLayer","off","removeLayer","enable","prevLatlng","poly","multi","latlngs","latlngsList","sum","distance","separation","last","fixedLast","totalIcon","total","lastCircle","UNIT_CONV","SUB_UNIT_CONV","UNIT","SUB_UNIT","measure","scalar","unit","cleanUpMarkers","fixed","eachLayer","l","type","cleanUpFixed","convertDots","m","marker","icon","il","html","s","label","split","parseFloat","u","toFixed","cicon","className","setIcon","displayMarkers","x","y","ratio","p","latlng","original","distanceTo","dis","p2","latLngToContainerPoint","p1","t","qu","q","Math","floor","containerPointToLatLng","renderCircle","latLng","radius","azimut","nodeCls","fillOpacity","opacity","fill","a","b","lastAzimut","p_latLng","circle","setRadius","getAzimut","deg","atan2","PI","abs","renderPolyline","latLngs","dashArray","weight","renderMultiPolyline","startsWith","formatDistance","precision","formatNum","target","classes","fn","originalEvent","o","push","setLatLngs","setLatLng","clickable","ds","old_separation","digits","toString","num","pow","real","dimension","multi_latlngs","getLatLngs","apply","workspace","total_label","getLatLng","join","data","sub_unit","fireEvent","purgeLayers","MeasurementTool","measurementTool","LinearMeasurement","ResetView","defaultCoords","resetView","scaleControl","scale","imperial","setView","relatedMarker","props","SOI","submission","iconUrl","SNPsoi","iconSize","iconAnchor","number","snp_distance","SNPrelated","styles","border","background","display","SNPMapComp","React","checkedLayers","useCountyandHotspotLayers","SNPMapDataset","RiskLayers","CountyLayers","HotspotLayers","openTable","useSelector","state","counter","openSNPTable","mapRef","useRef","popupContentSNPMap","AFnumber","animal_id","dob","slaughter_date","cph","os_map_ref","species","animal_type","sex","disclosing_test","import_country","popupOptions","maxWidth","autoClose","closeOnClick","maxHeight","_jsx","ref","children","_jsxs","MapContainer","center","zoom","zoomAnimation","zoomAnimationThreshold","TileLayer","url","HideSidebar","Suspense","fallback","_Fragment","isChecked","Object","keys","LegendTableAction","MarkerClusterGroup","chunkedLoading","iconCreateFunction","cluster","getChildCount","filter","elem","_SNPMapDataset$elem","_SNPMapDataset$elem2","lat","lon","index","Marker","bindPopup","_SNPMapDataset$elem3","_SNPMapDataset$elem4","_ref2","dispatch","useDispatch","resizeObserver","ResizeObserver","current","btnShowTable","toggleSNPTable","markerLegend","style","width","movementClusterImg","latLon","_SNPMapDataset$elem5","_SNPMapDataset$elem6","fitBounds","pad","observe","disconnect"],"sourceRoot":""}